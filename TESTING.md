# Testing

Return to the [README.md](README.md) file.

## Code Validation
### Python

I have used the recommended [CI Python Linter](https://pep8ci.herokuapp.com) to validate all of my Python files.

| File | CI URL | Screenshot | Notes |
| --- | --- | --- | --- |
| Dinogames main component |  |  |  |
| settings.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/dinogames/settings.py) | ![screenshot](documentation/testing/py_validation_settings.png) | None |
| permissions.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/dinogames/permissions.py) | ![screenshot](documentation/testing/py_validation_permissions.png) | None |
| urls.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/dinogames/urls.py) | ![screenshot](documentation/testing/py_validation_dinogames_urls.png) | None |
| Announcements component |  |  |  |
| admin.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/announcements/admin.py) | ![screenshot](documentation/testing/py_validation_announcements_admin.png) | None |
| models.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/announcements/models.py) | ![screenshot](documentation/testing/py_validation_announcements_models.png) | None |
| serializers.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/announcements/serializers.py) | ![screenshot](documentation/testing/py_validation_announcements_serializer.png) | None |
| urls.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/announcements/urls.py) | ![screenshot](documentation/testing/py_validation_announcements_urls.png) | None |
| views.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/announcements/views.py) | ![screenshot](documentation/testing/py_validation_announcements_views.png) | None |
| Games component |  |  |  |
| admin.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/games/admin.py) | ![screenshot](documentation/testing/py_validation_games_admin.png) | None |
| models.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/games/models.py) | ![screenshot](documentation/testing/py_validation_games_models.png) | None |
| serializers.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/games/serializers.py) | ![screenshot](documentation/testing/py_validation_games_serializer.png) | None |
| urls.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/games/urls.py) | ![screenshot](documentation/testing/py_validation_games_urls.png) | None |
| views.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/games/views.py) | ![screenshot](documentation/testing/py_validation_games_views.png) | None |
| Ratings component |  |  |  |
| admin.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/ratings/admin.py) | ![screenshot](documentation/testing/py_validation_ratings_admin.png) | None |
| models.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/ratings/models.py) | ![screenshot](documentation/testing/py_validation_ratings_models.png) | None |
| serializers.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/ratings/serializers.py) | ![screenshot](documentation/testing/py_validation_ratings_serializer.png) | None |
| urls.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/ratings/urls.py) | ![screenshot](documentation/testing/py_validation_ratings_urls.png) | None |
| views.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/ratings/views.py) | ![screenshot](documentation/testing/py_validation_ratings_views.png) | None |
| Reviews component |  |  |  |
| admin.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/reviews/admin.py) | ![screenshot](documentation/testing/py_validation_reviews_admin.png) | None |
| models.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/reviews/models.py) | ![screenshot](documentation/testing/py_validation_reviews_models.png) | None |
| serializers.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/reviews/serializers.py) | ![screenshot](documentation/testing/py_validation_reviews_serializer.png) | None |
| urls.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/reviews/urls.py) | ![screenshot](documentation/testing/py_validation_reviews_urls.png) | None |
| views.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/reviews/views.py) | ![screenshot](documentation/testing/py_validation_reviews_views.png) | None |
| Users component |  |  |  |
| admin.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/users/admin.py) | ![screenshot](documentation/testing/py_validation_users_admin.png) | None |
| models.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/users/models.py) | ![screenshot](documentation/testing/py_validation_users_models.png) | None |
| serializers.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/users/serializers.py) | ![screenshot](documentation/testing/py_validation_users_serializer.png) | None |
| urls.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/users/urls.py) | ![screenshot](documentation/testing/py_validation_users_urls.png) | None |
| views.py | [CI PEP8](https://pep8ci.herokuapp.com/https://raw.githubusercontent.com/ccp84/dinogames_api/main/users/views.py) | ![screenshot](documentation/testing/py_validation_users_views.png) | None |

## Defensive Programming

Defensive programming was manually tested using Postman to check the responses of all endpoints as follows:

| Test | Endpoint | Method | User Type | Expected Result | Pass / Fail | Screenshot |
| ---- | -------- | ------ | --------- | --------------- | ------- | ---------- |
| 1 | user/int:pk | GET | User | Access denied | Pass | ![defensivetest1](/documentation/testing/defensive_testing_1.png) |
| 2 | user/int:pk | PUT | User | Access denied | Pass | ![defensivetest2](/documentation/testing/defensive_testing_2.png) |
| 3 | user/int:pk | PUT | Admin | Edit request successful | Pass | ![defensivetest3](/documentation/testing/defensive_testing_3.png) |
| 4 | games/ | GET | - | List of games returned | Pass | ![defensivetest4](/documentation/testing/defensive_testing_4.png) |
| 5 | games/int:pk | GET | - | Game details returned | Pass | ![defensivetest5](/documentation/testing/defensive_testing_5.png) |
| 6 | games/create | GET | User | Access denied | Pass | ![defensivetest6](/documentation/testing/defensive_testing_6.png) |
| 7 | games/create | GET | Admin | List of games returned | Pass | ![defensivetest7](/documentation/testing/defensive_testing_7.png) |
| 8 | games/create | POST | User | Access denied | Pass | ![defensivetest8](/documentation/testing/defensive_testing_8.png) |
| 9 | games/create | POST | Admin | New game instance created | Pass | ![defensivetest9](/documentation/testing/defensive_testing_9.png) |
| 10 | games/edit/int:pk | GET | User | Access denied | Pass | ![defensivetest10](/documentation/testing/defensive_testing_10.png) |
| 11 | games/edit/int:pk | GET | Admin | Game details returned | Pass | ![defensivetest11](/documentation/testing/defensive_testing_11.png) |
| 12 | games/edit/int:pk | PUT | User | Access denied | Pass | ![defensivetest12](/documentation/testing/defensive_testing_12.png) |
| 13 | games/edit/int:pk | PUT | Admin | Game details edited | Pass | ![defensivetest13](/documentation/testing/defensive_testing_13.png) |
| 14 | games/edit/int:pk | DELETE | User | Access denied | Pass | ![defensivetest14](/documentation/testing/defensive_testing_14.png) |
| 15 | games/edit/int:pk | DELETE | Admin | Game instance is removed | Pass | ![defensivetest15](/documentation/testing/defensive_testing_15.png) |
| 16 | reviews/ | GET | - | List of reviews returned | Pass | ![defensivetest16](/documentation/testing/defensive_testing_16.png) |
| 17 | reviews/ | POST | - | Access denied | Pass | ![defensivetest17](/documentation/testing/defensive_testing_17.png) |
| 18 | reviews/  | POST | User | Review instance created | Pass | ![defensivetest18](/documentation/testing/defensive_testing_18.png) |
| 19 | reviews/author | GET | - | Invalid request | Pass | ![defensivetest19](/documentation/testing/defensive_testing_19.png) |
| 20 | reviews/author | GET | User | Filtered list of reviews returned | Pass | ![defensivetest20](/documentation/testing/defensive_testing_20.png) |
| 21 | reviews/int:pk | GET | Not instance author | Accessing other user id's review allowed | Pass | ![defensivetest21](/documentation/testing/defensive_testing_21.png) |
| 22 | reviews/int:pk | PUT | Not instance author | Access denied | Pass | ![defensivetest22](/documentation/testing/defensive_testing_22.png) |
| 23 | reviews/int:pk | PUT | Instance author | Review updated | Pass | ![defensivetest23](/documentation/testing/defensive_testing_23.png) |
| 24 | reviews/int:pk | DELETE | Not instance author | Access denied | Pass | ![defensivetest24](/documentation/testing/defensive_testing_24.png) |
| 25 | reviews/int:pk | DELETE | Instance author | Review deleted | Pass | ![defensivetest25](/documentation/testing/defensive_testing_25.png) |
| 26 | announcement/ | GET | - | Returns a list of announcements | Pass | ![defensivetest26](/documentation/testing/defensive_testing_26.png) |
| 27 | announcement/admin | GET | User | Access denied | Pass | ![defensivetest27](/documentation/testing/defensive_testing_27.png) |
| 28 | announcement/admin | GET | Admin | Returns a list of announcements | Pass | ![defensivetest28](/documentation/testing/defensive_testing_28.png) |
| 29 | announcement/admin | POST | User | Access denied | Pass | ![defensivetest29](/documentation/testing/defensive_testing_29.png) |
| 30 | announcement/admin | POST | Admin | New announcement added | Pass | ![defensivetest30](/documentation/testing/defensive_testing_30.png) |
| 31 | announcement/admin/int:pk | GET | User | Access denied | Pass | ![defensivetest31](/documentation/testing/defensive_testing_31.png) |
| 32 | announcement/admin/int:pk | GET | Admin | Returns details of an announcement | Pass | ![defensivetest32](/documentation/testing/defensive_testing_32.png) |
| 33 | announcement/admin/int:pk | PUT | User | Access denied | Pass | ![defensivetest33](/documentation/testing/defensive_testing_33.png) |
| 34 | announcement/admin/int:pk | PUT | Admin | Announcement details updated | Pass | ![defensivetest34](/documentation/testing/defensive_testing_34.png) |
| 35 | announcement/admin/int:pk | DELETE | User | Access denied | Pass | ![defensivetest35](/documentation/testing/defensive_testing_35.png) |
| 36 | announcement/admin/int:pk | DELETE | Admin | Announcement deleted | Pass | ![defensivetest36](/documentation/testing/defensive_testing_36.png) |
| 37 | ratings/ | GET | - | List of all ratings returned | Pass | ![defensivetest37](/documentation/testing/defensive_testing_37.png) |
| 38 | ratings/ | POST | - | Access denied | Pass | ![defensivetest38](/documentation/testing/defensive_testing_38.png) |
| 39 | ratings/ | POST | User | New rating created | Pass | ![defensivetest39](/documentation/testing/defensive_testing_39.png) |
| 40 | ratings/int:pk | GET | Not instance author | Rating details returned | Pass | ![defensivetest40](/documentation/testing/defensive_testing_40.png) |
| 41 | ratings/int:pk | PUT | Not instance author | Access denied | Pass | ![defensivetest41](/documentation/testing/defensive_testing_41.png) |
| 42 | ratings/int:pk | PUT | Instance author | Rating updated | Pass | ![defensivetest42](/documentation/testing/defensive_testing_42.png) |
| 43 | ratings/int:pk | DELETE | Not instance author | Access denied | Pass | ![defensivetest43](/documentation/testing/defensive_testing_43.png) |
| 44 | ratings/int:pk | DELETE | Instance author | Rating deleted |  | ![defensivetest44](/documentation/testing/defensive_testing_44.png) |

## User Story Testing

| User Story | Screenshot |
| --- | --- |
| As a visitor to the site I want to be able to create an account so that I can access the full membership features | ![userstory1](/documentation/testing/user_stories_1.png) |
| As a member I want to be able to log into my account so that I can access the full features of the library | ![userstory2](/documentation/testing/user_stories_2.png) |
| As a member I want to be able to log out of my account to keep my data secure | ![userstory3](/documentation/testing/user_stories_3.png) |
| As a member of staff I want to be able to add games to the library so that site visitors can see what games are available to play | ![userstory4](/documentation/testing/user_stories_4.png) |
| As a member of staff I want to be able to edit listed games so that the details are always accurate and up to date | ![userstory5](/documentation/testing/user_stories_5.png) |
| As a member of staff I want to be able to delete a game from the library so that any old games no longer available are removed from the list | ![userstory6](/documentation/testing/user_stories_6.png) |
| As a member I want to be able to see all of the games available in the library so that I can read the reviews and look for games I might like | ![userstory7](/documentation/testing/user_stories_7.png) |
| As a member I want to be able to search the library by game feature so that I can pick out the games most suited to my interests | ![userstory8](/documentation/testing/user_stories_8.png) |
| As a library member I want to be able to review games that I have played so that other members can find out if they might want to play that game | ![userstory9](/documentation/testing/user_stories_9.png) |
| As a library member I want to be able to edit the reviews I have left so that I can change any errors or update my opinion at a later date | ![userstory10](/documentation/testing/user_stories_10.png) |
| As a library member I want to be able to delete reviews that I have made so that I can start again if there are too many edits to make or remove opinions I no longer hold. | ![userstory11](/documentation/testing/user_stories_11.png) |
| As a member I want to be able to see a list of reviews that I have written so that I can remember what I have already reviewed and check they are still relevant | ![userstory12](/documentation/testing/user_stories_12.png) |
| As a site visitor I want to be able to read reviews of games by people that have already played them so that I can decide if I might want to play that game | ![userstory13](/documentation/testing/user_stories_13.png) |
| As an admin user I want to create announcements so that I can update site visitors about events happening in the library | ![userstory14](/documentation/testing/user_stories_14.png) |
| As an admin user I want to be able to edit existing announcements so that they will always be up to date if the details change | ![userstory15](/documentation/testing/user_stories_15.png) |
| As an admin user I want to be able to delete announcements so that events and updates that are no longer relevant can be removed | ![userstory16](/documentation/testing/user_stories_16.png) |
| As a visitor to the site I want to be able to read all of the latest announcements so that I can find out about events that are happening in the library | ![userstory17](/documentation/testing/user_stories_17.png) |
| As a member I want to be able to add a thumbs up or thumbs down rating so that other users can see if they might want to play the game. | ![userstory18](/documentation/testing/user_stories_18.png) |
| As a user I want to be able to edit the rating I have left so that I can update my opinion if I change my mind. | ![userstory19](/documentation/testing/user_stories_19.png) |
| As a member I want to see the games I have rated so that I can pick out games I have already played and enjoyed to play again. | ![userstory20](/documentation/testing/user_stories_20.png) |
| As a site visitor I want to be able to see ratings left by other people so that I know if I might want to play that game or not. | ![userstory21](/documentation/testing/user_stories_21.png) |


## Automated Testing

I have conducted a series of automated tests on my application.

I fully acknowledge and understand that, in a real-world scenario, an extensive set of additional tests would be more comprehensive.

### Python (Unit Testing)

I have used Django's built-in unit testing framework to test the application functionality.

In order to run the tests, I ran the following command in the terminal each time:

`python3 manage.py test`

To create the coverage report, I would then run the following commands:

`coverage run --source=name-of-app manage.py test`

`coverage report`

To see the HTML version of the reports, and find out whether some pieces of code were missing, I ran the following commands:

`coverage html`

`python3 -m http.server`

Below are the results from the tests that I have created:

| File | Coverage | Screenshot |
| --- | --- | --- |

#### Unit Test Issues

Return to the [README.md](README.md) file.